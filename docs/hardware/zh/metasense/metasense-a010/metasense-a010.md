# MetaSense-A010

|     时间      | 负责人 |   更新内容   |
| :-----------: | :----: | :----------: |
| 2022年8月12日 | yuexin | 初次编写文档 |


## 产品概述

产品图

MetaSense-A010 是由 Sipeed 所推出的一款基于炬佑 100x100 TOF 模组+ BL702 极致性价比的 TOF 3D 传感器模组，最大支持 100x100 的分辨率和 8 位精度，并且自带的 240×135 的 LCD 显示屏可实时预览 color map 后的深度图。

## 硬件资料
### 串口接线/引脚示意图
这款设备采用串口协议对外提供接口和传输数据，物理接口对外提供了 type-c（虚拟串口）及 1.0mm 的 4pin 母座（UART）都能获取深度图数据，可自定义设置，用户可以使用任意 linux 板卡或者单片机进行二次开发。
### 硬件规格书
  
## 开箱指南

### 本机预览
把设备使用 type-c 线与电脑连接，可在设备上自带 LCD 屏实时预览 color map 后的深度伪彩图

### PC 预览和微调
注意：Win 7 及以下系统需装驱动，可自行前往 FTDI 官网下载。
1. 使用 PC 预览前先安装 COMTOOL 上位机软件包
2. 设备通过 type-c 接口连接电脑后，可以识别到 /dev/ttyUSBx（Linux）或 COMx（Windows）
3. 打开 COMTOOL 后，在右上角添加 Graph，左侧选择 Port 和对应波特率（忽略 USB 串口，可任意选择高波特率），点击 open 后可接收大量数据。
![010-1](assets/a010-1.jpg)
4. 若显示部分为黑无图，则双击左下角 MaixSenseLite 打开上图所示端口，设定 Header 为 \x00\xFF 即可正确解析图像数据并观察到深度图，可以直观感受二维平面图像上的深度。
![010-2](assets/a010-2.jpg) 

### 互动配置说明

COMTOOL 上位机的配置控件说明
- Header 设置识别包头
- RawCMD 用户可以手动发送指令（USB 和 UART 串口行为相同）
- ISP 启动停止
- LCD 显示自带屏的开启关闭
- USB 串口传输深度图开启关闭
- UART 串口传输深度图开启关闭
- ANTIMMI 自动抗多机干扰开启关闭（易受干扰，关闭的效果都要更好些）
- Binn 可下拉设置 BINNING，Baud 设置 UART 波特率
- X，Y 设置坐标，D左侧多选框开启关闭显示 ( x，y ) 处据该摄像头的距离，位于 D 右侧
- Unit 设置量化单位（16位量化到8位，比例缩小，设置太小会只能看清很近处的影像）
- FPS 设置出图帧率（不宜过高，根据对接设备的性能合理设置即可，减小帧率可以减少传输数据量）
- Ev 曝光间隙控制（最左代表 AE，其他是固定曝光时间）

## ROS 接入例程
### ROS1 接入
1. 准备工作
（适用系统/软件/编程语言）
2. 例程代码
3. ROS1 效果图

### ROS2 接入
1. 准备工作
（适用系统/软件/编程语言）
2. 例程代码
3. ROS2 效果图

## 二次开发例程

### 人脸识别效果图
### 运动体（家用检测开关门）
### 外接单片机例（树莓派等等）
demo 暂未开源，待整理公开。